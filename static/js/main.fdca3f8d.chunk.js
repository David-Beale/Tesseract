(this["webpackJsonpinfinity-box"]=this["webpackJsonpinfinity-box"]||[]).push([[0],{44:function(e,t,r){},45:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var n=r(5),a=r.n(n),c=r(33),i=r.n(c),s=(r(44),r(10)),o=(r(45),r(13)),u=r(52),f=r(53),l=r(11),j=r(0),h=r(1),d=r(2),b=r(4),p=r(7),O=function(e){Object(h.a)(r,e);var t=Object(d.a)(r);function r(){return Object(j.a)(this,r),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n      }"})}return r}(b.ShaderMaterial),m=function(e){return(new b.Vector3).setFromSpherical(new b.Spherical(e,Math.acos(1-2*Math.random()),Math.PI/2+Math.random()*Math.PI))},v=n.forwardRef((function(e,t){var r=e.radius,a=void 0===r?100:r,c=e.depth,i=void 0===c?50:c,u=e.count,f=void 0===u?5e3:u,j=e.saturation,h=void 0===j?0:j,d=e.factor,v=void 0===d?4:d,x=e.fade,g=void 0!==x&&x,y=n.useRef(),M=n.useMemo((function(){for(var e=[],t=[],r=Array.from({length:f},(function(){return(.5+.5*Math.random())*v})),n=new b.Color,c=a+i,s=i/f,o=0;o<f;o++)c-=s*Math.random(),e.push.apply(e,Object(l.a)(m(c).toArray())),n.setHSL(o/f,h,.9),t.push(n.r,n.g,n.b);return[new Float32Array(e),new Float32Array(t),new Float32Array(r)]}),[f,i,v,a,h]),w=Object(s.a)(M,3),A=w[0],P=w[1],S=w[2];Object(o.e)((function(e){return y.current&&(y.current.uniforms.time.value=e.clock.getElapsedTime())}));var F=n.useState((function(){return new O})),C=Object(s.a)(F,1)[0];return Object(p.jsxs)("points",{ref:t,renderOrder:1,children:[Object(p.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(p.jsx)("bufferAttribute",{attachObject:["attributes","position"],args:[A,3]}),Object(p.jsx)("bufferAttribute",{attachObject:["attributes","color"],args:[P,3]}),Object(p.jsx)("bufferAttribute",{attachObject:["attributes","size"],args:[S,1]})]}),Object(p.jsx)("primitive",{dispose:void 0,ref:y,object:C,attach:"material",blending:b.AdditiveBlending,"uniforms-fade-value":g,vertexColors:!0})]})}));function x(){return Object(p.jsx)(v,{renderOrder:1,count:2e3,radius:2e3,factor:100,fade:!0})}var g=new b.Object3D;function y(e){var t=e.r,r=Object(n.useRef)(),a=Object(n.useMemo)((function(){for(var e=t/3.5,r=e/25,n=0-e/2,a=0-e/2,c=0-e/2,i=0-t/2,s=0-t/2,o=0-t/2,u=[[n,a,c],[n+e,a,c],[n,a+e,c],[n+e,a+e,c],[n,a,c+e],[n+e,a,c+e],[n,a+e,c+e],[n+e,a+e,c+e],[n+r,a+r,c+e],[n+e-r,a+r,c+e],[n+r,a+e-r,c+e],[n+e-r,a+e-r,c+e],[n+e,a+r,c+e-r],[n+e,a+r,c+r],[n+e,a+e-r,c+e-r],[n+e,a+e-r,c+r],[n,a+r,c+r],[n,a+r,c+e-r],[n,a+e-r,c+r],[n,a+e-r,c+e-r],[n+r,a+e,c+e-r],[n+e-r,a+e,c+e-r],[n+r,a+e,c+r],[n+e-r,a+e,c+r],[n+r,a,c+r],[n+e-r,a,c+r],[n+r,a,c+e-r],[n+e-r,a,c+e-r],[n+r,a+r,c],[n+e-r,a+r,c],[n+r,a+e-r,c],[n+e-r,a+e-r,c],[i+t-0,s+t-0,o+t],[i+t-0,s+t,o+t-0],[i+t,s+t-0,o+t-0],[i+t-0,s+0,o+t],[i+t,s+0,o+t-0],[i+t-0,s,o+t-0],[i+0,s+0,o+t],[i,s+0,o+t-0],[i+0,s,o+t-0],[i,s+t-0,o+t-0],[i+0,s+t,o+t-0],[i+0,s+t-0,o+t],[i+t-0,s+t-0,o],[i+t-0,s+t,o+0],[i+t,s+t-0,o+0],[i+t-0,s,o+0],[i+t,s+0,o+0],[i+t-0,s+0,o],[i,s+0,o+0],[i+0,s+0,o],[i+0,s,o+0],[i,s+t-0,o+0],[i+0,s+t,o+0],[i+0,s+t-0,o]],f=new Float32Array(3*u.length),l=0,j=0,h=u;j<h.length;j++){var d=h[j];f.set(d,l),l+=3}return f}),[t]);return Object(n.useEffect)((function(){var e=function(e,t,r,a,c,i,s,o){n.push(e,t,r),n.push(t,a,r),n.push(t,o,a),n.push(a,o,i),n.push(i,o,s),n.push(i,s,c),n.push(e,c,s),n.push(e,r,c)},t=function(e,t,r,a,c,i){n.push(e,c,t),n.push(e,a,c),n.push(r,i,c),n.push(r,c,t)},n=[];e(4,5,8,9,10,11,6,7),e(5,1,12,13,14,15,7,3),e(0,4,16,17,18,19,2,6),e(6,7,20,21,22,23,2,3),e(0,1,24,25,26,27,4,5),e(0,1,28,29,30,31,2,3),t(11,21,14,32,33,34),t(9,12,27,35,36,37),t(8,17,26,38,39,40),t(19,20,10,41,42,43),t(31,23,15,44,45,46),t(25,13,29,47,48,49),t(16,28,24,50,51,52),t(18,22,30,53,54,55),r.current.setIndex(n)}),[]),Object(p.jsx)("bufferGeometry",{ref:r,groups:[{start:0,count:146,materialIndex:0},{start:147,count:100,materialIndex:1}],children:Object(p.jsx)("bufferAttribute",{attachObject:["attributes","position"],args:[a,3]})})}function M(e){var t=e.length,r=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){if(t.current){for(var r=Math.floor(e/2),n=0,a=-e;a<e;a++)for(var c=-e;c<e;c++)for(var i=-r;i<r;i++)0===a&&0===c&&i===r-1||(g.position.set(a,c,i),g.updateMatrix(),t.current.setMatrixAt(n,g.matrix),n++);t.current.instanceMatrix.needsUpdate=!0}}),[e]),t}(t);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("instancedMesh",{ref:r,args:[null,null,4*t*t*t],frustumCulled:!1,position:[0,0,-5],children:[Object(p.jsx)(y,{r:1}),Object(p.jsx)("meshBasicMaterial",{attachArray:"material",color:"#3F8787",transparent:!0,opacity:.4,side:b.DoubleSide,depthFunc:b.GreaterEqualDepth,blending:b.AdditiveBlending,depthWrite:!1}),Object(p.jsx)("meshBasicMaterial",{attachArray:"material",color:"#386060",transparent:!0,opacity:.4,side:b.DoubleSide,depthFunc:b.GreaterEqualDepth,blending:b.AdditiveBlending,depthWrite:!1})]}),Object(p.jsxs)("mesh",{position:[0,0,0],renderOrder:2,children:[Object(p.jsx)(y,{r:1}),Object(p.jsx)("meshBasicMaterial",{attach:"material",color:"turquoise",side:b.DoubleSide,depthFunc:b.GreaterEqualDepth})]})]})}var w=r(51);function A(){var e=Object(n.useRef)(),t=Object(n.useMemo)((function(){for(var e=-.5,t=-.5,r=-.5,n=[[e,t,r],[.5,t,r],[e,.5,r],[.5,.5,r],[e,t,.5],[.5,t,.5],[e,.5,.5],[.5,.5,.5],[-.49,-.49,.5],[.49,-.49,.5],[-.49,.49,.5],[.49,.49,.5],[.5,-.49,.49],[.5,-.49,-.49],[.5,.49,.49],[.5,.49,-.49],[e,-.49,-.49],[e,-.49,.49],[e,.49,-.49],[e,.49,.49],[-.49,.5,.49],[.49,.5,.49],[-.49,.5,-.49],[.49,.5,-.49],[-.49,t,-.49],[.49,t,-.49],[-.49,t,.49],[.49,t,.49]],a=new Float32Array(3*n.length),c=0,i=0,s=n;i<s.length;i++){var o=s[i];a.set(o,c),c+=3}return a}),[]);return Object(n.useEffect)((function(){var t=function(e,t,n,a,c,i,s,o){r.push(e,t,n),r.push(t,a,n),r.push(t,o,a),r.push(a,o,i),r.push(i,o,s),r.push(i,s,c),r.push(e,c,s),r.push(e,n,c)},r=[];t(4,5,8,9,10,11,6,7),t(5,1,12,13,14,15,7,3),t(0,4,16,17,18,19,2,6),t(6,7,20,21,22,23,2,3),t(0,1,24,25,26,27,4,5),e.current.setIndex(r)}),[]),Object(p.jsxs)("mesh",{position:[0,0,0],scale:[1.01,1.01,1.01],renderOrder:3,children:[Object(p.jsx)("bufferGeometry",{ref:e,children:Object(p.jsx)("bufferAttribute",{attachObject:["attributes","position"],args:[t,3]})}),Object(p.jsx)("meshBasicMaterial",{color:"turquoise",depthTest:!1,transparent:!0,opacity:.99})]})}function P(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(w.a,{args:[1,1,1],position:[0,0,0],children:Object(p.jsx)("meshBasicMaterial",{attach:"material",color:"black"})}),Object(p.jsx)(A,{})]})}var S=r(38),F=r(22),C=r(35),B=r(39),R=r(36);function E(){var e=Object(n.useRef)(),t=Object(o.f)(),r=t.scene,c=t.gl,i=t.size,u=t.camera,f=a.a.useState((function(){return new b.Vector2(512,512)})),l=Object(s.a)(f,1)[0];Object(n.useEffect)((function(){e.current.setSize(i.width,i.height)}),[i]),Object(o.e)((function(){return e.current.render()}),1);var j={strength:1,resolution:l,radius:.1,threshold:.3};return Object(p.jsxs)("effectComposer",{ref:e,args:[c],children:[Object(p.jsx)("renderPass",{attachArray:"passes",scene:r,camera:u}),Object(p.jsx)("unrealBloomPass",{attachArray:"passes",args:[j.resolution,j.strength,j.radius,j.threshold]}),Object(p.jsx)("shaderPass",{attachArray:"passes",args:[R.a],"material-uniforms-resolution-value":[1/i.width,1/i.height],renderToScreen:!0})]})}Object(o.d)({EffectComposer:S.a,ShaderPass:F.a,RenderPass:C.a,UnrealBloomPass:B.a});var I=new b.Vector3,z=3.5*Math.PI/6;function D(e){var t=e.mouse,r=Object(n.useRef)(0),a=Object(n.useRef)(.5*Math.PI),c=Object(n.useRef)(4),i=Object(o.f)().camera;return Object(o.e)((function(){var e=t.current[0]*z,n=t.current[1]*z+Math.PI/2,s=t.current[2],o=r.current+.025*(e-r.current),u=a.current+.025*(n-a.current),f=c.current+.1*(s-c.current);I.setFromSphericalCoords(f,u,o),i.position.x=I.x,i.position.y=I.y,i.position.z=I.z,i.lookAt(0,0,0),r.current=o,a.current=u,c.current=f})),null}function G(){var e=function(){var e=Object(n.useRef)([0,.5,4]);return[e,function(t){e.current[0]=t.clientX/window.innerWidth-.5,e.current[1]=t.clientY/window.innerHeight-.5},function(t){t.deltaY<0?(e.current[2]*=.8,e.current[2]<1&&(e.current[2]=1)):(e.current[2]*=1.25,e.current[2]>20&&(e.current[2]=20))}]}(),t=Object(s.a)(e,3),r=t[0],a=t[1],c=t[2];return Object(p.jsxs)("div",{className:"container",onPointerMove:a,onWheel:c,children:[Object(p.jsxs)(o.a,{camera:{position:[0,0,3],fov:40,far:1e4},children:[Object(p.jsx)(u.a,{}),Object(p.jsx)(M,{length:12}),Object(p.jsx)(P,{}),Object(p.jsx)(x,{}),Object(p.jsx)(E,{}),Object(p.jsx)(D,{mouse:r})]}),Object(p.jsx)(f.a,{})]})}i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(G,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.fdca3f8d.chunk.js.map