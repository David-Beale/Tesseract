(this["webpackJsonpinfinity-box"]=this["webpackJsonpinfinity-box"]||[]).push([[0],{44:function(e,t,r){},45:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var n=r(5),a=r.n(n),i=r(33),s=r.n(i),o=(r(44),r(45),r(13)),c=r(52),u=r(53),l=r(11),f=r(10),j=r(0),d=r(1),h=r(2),b=r(4),p=r(7),O=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){return Object(j.a)(this,r),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n      }"})}return r}(b.ShaderMaterial),m=function(e){return(new b.Vector3).setFromSpherical(new b.Spherical(e,Math.acos(1-2*Math.random()),Math.PI/2+Math.random()*Math.PI))},v=n.forwardRef((function(e,t){var r=e.radius,a=void 0===r?100:r,i=e.depth,s=void 0===i?50:i,c=e.count,u=void 0===c?5e3:c,j=e.saturation,d=void 0===j?0:j,h=e.factor,v=void 0===h?4:h,x=e.fade,g=void 0!==x&&x,y=n.useRef(),M=n.useMemo((function(){for(var e=[],t=[],r=Array.from({length:u},(function(){return(.5+.5*Math.random())*v})),n=new b.Color,i=a+s,o=s/u,c=0;c<u;c++)i-=o*Math.random(),e.push.apply(e,Object(l.a)(m(i).toArray())),n.setHSL(c/u,d,.9),t.push(n.r,n.g,n.b);return[new Float32Array(e),new Float32Array(t),new Float32Array(r)]}),[u,s,v,a,d]),A=Object(f.a)(M,3),w=A[0],P=A[1],S=A[2];Object(o.e)((function(e){return y.current&&(y.current.uniforms.time.value=e.clock.getElapsedTime())}));var F=n.useState((function(){return new O})),B=Object(f.a)(F,1)[0];return Object(p.jsxs)("points",{ref:t,renderOrder:1,children:[Object(p.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(p.jsx)("bufferAttribute",{attachObject:["attributes","position"],args:[w,3]}),Object(p.jsx)("bufferAttribute",{attachObject:["attributes","color"],args:[P,3]}),Object(p.jsx)("bufferAttribute",{attachObject:["attributes","size"],args:[S,1]})]}),Object(p.jsx)("primitive",{dispose:void 0,ref:y,object:B,attach:"material",blending:b.AdditiveBlending,"uniforms-fade-value":g,vertexColors:!0})]})}));function x(){return Object(p.jsx)(v,{renderOrder:1,count:2e3,radius:2e3,factor:100,fade:!0})}var g=new b.Object3D;function y(e){var t=e.r,r=Object(n.useRef)(),a=Object(n.useMemo)((function(){for(var e=t/3.5,r=e/25,n=0-e/2,a=0-e/2,i=0-e/2,s=0-t/2,o=0-t/2,c=0-t/2,u=[[n,a,i],[n+e,a,i],[n,a+e,i],[n+e,a+e,i],[n,a,i+e],[n+e,a,i+e],[n,a+e,i+e],[n+e,a+e,i+e],[n+r,a+r,i+e],[n+e-r,a+r,i+e],[n+r,a+e-r,i+e],[n+e-r,a+e-r,i+e],[n+e,a+r,i+e-r],[n+e,a+r,i+r],[n+e,a+e-r,i+e-r],[n+e,a+e-r,i+r],[n,a+r,i+r],[n,a+r,i+e-r],[n,a+e-r,i+r],[n,a+e-r,i+e-r],[n+r,a+e,i+e-r],[n+e-r,a+e,i+e-r],[n+r,a+e,i+r],[n+e-r,a+e,i+r],[n+r,a,i+r],[n+e-r,a,i+r],[n+r,a,i+e-r],[n+e-r,a,i+e-r],[n+r,a+r,i],[n+e-r,a+r,i],[n+r,a+e-r,i],[n+e-r,a+e-r,i],[s+t-0,o+t-0,c+t],[s+t-0,o+t,c+t-0],[s+t,o+t-0,c+t-0],[s+t-0,o+0,c+t],[s+t,o+0,c+t-0],[s+t-0,o,c+t-0],[s+0,o+0,c+t],[s,o+0,c+t-0],[s+0,o,c+t-0],[s,o+t-0,c+t-0],[s+0,o+t,c+t-0],[s+0,o+t-0,c+t],[s+t-0,o+t-0,c],[s+t-0,o+t,c+0],[s+t,o+t-0,c+0],[s+t-0,o,c+0],[s+t,o+0,c+0],[s+t-0,o+0,c],[s,o+0,c+0],[s+0,o+0,c],[s+0,o,c+0],[s,o+t-0,c+0],[s+0,o+t,c+0],[s+0,o+t-0,c]],l=new Float32Array(3*u.length),f=0,j=0,d=u;j<d.length;j++){var h=d[j];l.set(h,f),f+=3}return l}),[t]);return Object(n.useEffect)((function(){var e=function(e,t,r,a,i,s,o,c){n.push(e,t,r),n.push(t,a,r),n.push(t,c,a),n.push(a,c,s),n.push(s,c,o),n.push(s,o,i),n.push(e,i,o),n.push(e,r,i)},t=function(e,t,r,a,i,s){n.push(e,i,t),n.push(e,a,i),n.push(r,s,i),n.push(r,i,t)},n=[];e(4,5,8,9,10,11,6,7),e(5,1,12,13,14,15,7,3),e(0,4,16,17,18,19,2,6),e(6,7,20,21,22,23,2,3),e(0,1,24,25,26,27,4,5),e(0,1,28,29,30,31,2,3),t(11,21,14,32,33,34),t(9,12,27,35,36,37),t(8,17,26,38,39,40),t(19,20,10,41,42,43),t(31,23,15,44,45,46),t(25,13,29,47,48,49),t(16,28,24,50,51,52),t(18,22,30,53,54,55),r.current.setIndex(n)}),[]),Object(p.jsx)("bufferGeometry",{ref:r,groups:[{start:0,count:146,materialIndex:0},{start:147,count:100,materialIndex:1}],children:Object(p.jsx)("bufferAttribute",{attachObject:["attributes","position"],args:[a,3]})})}function M(e){var t=e.length,r=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){if(t.current){for(var r=Math.floor(e/2),n=0,a=-e;a<e;a++)for(var i=-e;i<e;i++)for(var s=-r;s<r;s++)0===a&&0===i&&s===r-1||(g.position.set(a,i,s),g.updateMatrix(),t.current.setMatrixAt(n,g.matrix),n++);t.current.instanceMatrix.needsUpdate=!0}}),[e]),t}(t);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("instancedMesh",{ref:r,args:[null,null,4*t*t*t],frustumCulled:!1,position:[0,0,-5],children:[Object(p.jsx)(y,{r:1}),Object(p.jsx)("meshBasicMaterial",{attachArray:"material",color:"#3F8787",transparent:!0,opacity:.4,side:b.DoubleSide,depthFunc:b.GreaterEqualDepth,blending:b.AdditiveBlending,depthWrite:!1}),Object(p.jsx)("meshBasicMaterial",{attachArray:"material",color:"#386060",transparent:!0,opacity:.4,side:b.DoubleSide,depthFunc:b.GreaterEqualDepth,blending:b.AdditiveBlending,depthWrite:!1})]}),Object(p.jsxs)("mesh",{position:[0,0,0],renderOrder:2,children:[Object(p.jsx)(y,{r:1}),Object(p.jsx)("meshBasicMaterial",{attach:"material",color:"turquoise",side:b.DoubleSide,depthFunc:b.GreaterEqualDepth})]})]})}var A=r(51);function w(){var e=Object(n.useRef)(),t=Object(n.useMemo)((function(){for(var e=-.5,t=-.5,r=-.5,n=[[e,t,r],[.5,t,r],[e,.5,r],[.5,.5,r],[e,t,.5],[.5,t,.5],[e,.5,.5],[.5,.5,.5],[-.49,-.49,.5],[.49,-.49,.5],[-.49,.49,.5],[.49,.49,.5],[.5,-.49,.49],[.5,-.49,-.49],[.5,.49,.49],[.5,.49,-.49],[e,-.49,-.49],[e,-.49,.49],[e,.49,-.49],[e,.49,.49],[-.49,.5,.49],[.49,.5,.49],[-.49,.5,-.49],[.49,.5,-.49],[-.49,t,-.49],[.49,t,-.49],[-.49,t,.49],[.49,t,.49]],a=new Float32Array(3*n.length),i=0,s=0,o=n;s<o.length;s++){var c=o[s];a.set(c,i),i+=3}return a}),[]);return Object(n.useEffect)((function(){var t=function(e,t,n,a,i,s,o,c){r.push(e,t,n),r.push(t,a,n),r.push(t,c,a),r.push(a,c,s),r.push(s,c,o),r.push(s,o,i),r.push(e,i,o),r.push(e,n,i)},r=[];t(4,5,8,9,10,11,6,7),t(5,1,12,13,14,15,7,3),t(0,4,16,17,18,19,2,6),t(6,7,20,21,22,23,2,3),t(0,1,24,25,26,27,4,5),e.current.setIndex(r)}),[]),Object(p.jsxs)("mesh",{position:[0,0,0],scale:[1.01,1.01,1.01],renderOrder:3,children:[Object(p.jsx)("bufferGeometry",{ref:e,children:Object(p.jsx)("bufferAttribute",{attachObject:["attributes","position"],args:[t,3]})}),Object(p.jsx)("meshBasicMaterial",{color:"turquoise",depthTest:!1,transparent:!0,opacity:.99})]})}function P(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(A.a,{args:[1,1,1],position:[0,0,0],children:Object(p.jsx)("meshBasicMaterial",{attach:"material",color:"black"})}),Object(p.jsx)(w,{})]})}var S=r(38),F=r(22),B=r(35),C=r(39),E=r(36);function D(){var e=Object(n.useRef)(),t=Object(o.f)(),r=t.scene,i=t.gl,s=t.size,c=t.camera,u=a.a.useState((function(){return new b.Vector2(512,512)})),l=Object(f.a)(u,1)[0];Object(n.useEffect)((function(){e.current.setSize(s.width,s.height)}),[s]),Object(o.e)((function(){return e.current.render()}),1);var j={strength:1,resolution:l,radius:.1,threshold:.3};return Object(p.jsxs)("effectComposer",{ref:e,args:[i],children:[Object(p.jsx)("renderPass",{attachArray:"passes",scene:r,camera:c}),Object(p.jsx)("unrealBloomPass",{attachArray:"passes",args:[j.resolution,j.strength,j.radius,j.threshold]}),Object(p.jsx)("shaderPass",{attachArray:"passes",args:[E.a],"material-uniforms-resolution-value":[1/s.width,1/s.height],renderToScreen:!0})]})}Object(o.d)({EffectComposer:S.a,ShaderPass:F.a,RenderPass:B.a,UnrealBloomPass:C.a});function R(e){var t=e.mouse,r=Object(o.f)().camera;return Object(o.e)((function(){r.position.x+=.05*(t.current[0]/300-r.position.x),r.position.y+=.05*(-t.current[1]/300-r.position.y),r.lookAt(0,0,0)})),null}function z(){var e=Object(n.useRef)([0,0]);return Object(p.jsxs)("div",{className:"container",onPointerMove:function(t){e.current=[2500*(t.clientX/window.innerWidth-.5),1500*(t.clientY/window.innerHeight-.5)]},children:[Object(p.jsxs)(o.a,{camera:{position:[0,0,3],fov:40,far:1e4},children:[Object(p.jsx)(c.a,{}),Object(p.jsx)(M,{length:12}),Object(p.jsx)(P,{}),Object(p.jsx)(x,{}),Object(p.jsx)(D,{}),Object(p.jsx)(R,{mouse:e})]}),Object(p.jsx)(u.a,{})]})}s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.07205263.chunk.js.map